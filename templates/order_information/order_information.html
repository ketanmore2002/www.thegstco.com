{% load socialaccount %}
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Mazer Admin Dashboard</title>

    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="{%static 'assets/css/bootstrap.css'%}">

    <link rel="stylesheet" href="{%static 'assets/vendors/iconly/bold.css' %}">

    <link rel="stylesheet" href="{%static 'assets/vendors/perfect-scrollbar/perfect-scrollbar.css' %}">
    <link rel="stylesheet" href="{%static 'assets/vendors/bootstrap-icons/bootstrap-icons.css' %}">
    <link rel="stylesheet" href="{%static 'assets/css/app.css' %}">
    <link rel="shortcut icon" href="{%static 'assets/images/favicon.svg" type="image/x-icon' %}">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

* {
    padding: 0;
    margin: 0;
    box-sizing: border-box;
    font-family: 'Roboto', sans-serif
}


}

#order-heading {
    background-color: #edf4f7;
    position: relative;
    border-top-left-radius: 25px;
    max-width: 800px;
    padding-top: 20px;
    margin: 30px auto 0px
}

#order-heading .text-uppercase {
    font-size: 0.9rem;
    color: #777;
    font-weight: 600
}

#order-heading .h4 {
    font-weight: 600
}

#order-heading .h4+div p {
    font-size: 0.8rem;
    color: #777
}

.close {
    padding: 10px 15px;
    background-color: #777;
    border-radius: 50%;
    position: absolute;
    right: -15px;
    top: -20px
}

.wrapper {
    padding: 0px 50px 50px;
    max-width: 800px;
    margin: 0px auto 40px;
    border-bottom-left-radius: 25px;
    border-bottom-right-radius: 25px
}

.table th {
    border-top: none
}

.table thead tr.text-uppercase th {
    font-size: 0.8rem;
    padding-left: 0px;
    padding-right: 0px
}

.table tbody tr th,
.table tbody tr td {
    font-size: 0.9rem;
    padding-left: 0px;
    padding-right: 0px;
    padding-bottom: 5px
}

.table-responsive {
    height: 100px
}

.list div b {
    font-size: 0.8rem
}

.list .order-item {
    font-weight: 600;
    color: #6db3ec
}

.list:hover {
    background-color: #f4f4f4;
    cursor: pointer;
    border-radius: 5px
}

label {
    margin-bottom: 0;
    padding: 0;
    font-weight: 900
}

button.btn {
    font-size: 0.9rem;
    background-color: #66cdaa
}

button.btn:hover {
    background-color: #5cb99a
}

.price {
    color: #5cb99a;
    font-weight: 700
}

p.text-justify {
    font-size: 0.9rem;
    margin: 0
}



.subscriptions {
    border: 1px solid #ddd;
    border-left: 5px solid #ffa500;
    padding: 10px
}

.subscriptions div {
    font-size: 0.9rem
}

@media(max-width: 425px) {
    .wrapper {
        padding: 20px
    }

    .subscriptions div {
        padding-left: 5px
    }

    img+label {
        font-size: 0.75rem
    }
}
    </style>
</head>

<body>
    <div id="app">
        <div id="sidebar" class="active">
            <div class="sidebar-wrapper active">
                <div class="sidebar-header">
                    <div class="d-flex justify-content-between">
                        <div class="toggler">
                            <a href="#" class="sidebar-hide d-xl-none d-block"><i class="bi bi-x bi-middle"></i></a>
                        </div>
                    </div>
                </div>
                <div class="sidebar-menu">
                    <ul class="menu">
                        <li class="sidebar-title">Menu</li>

                        <li class="sidebar-item active ">
                            <a href="/admin_panel" class='sidebar-link'>
                                <i class="bi bi-grid-fill"></i>
                                <span>Dashboard</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a href="/all_states" class='sidebar-link'>
                                <i class="bi bi-grid-fill"></i>
                                <span>State</span>
                            </a>
                        </li>

                        <li class="sidebar-item">
                            <a href="/create_blogs" class='sidebar-link'>
                                <i class="bi bi-grid-fill"></i>
                                <span>Blogs</span>
                            </a>
                        </li>

                        <li class="sidebar-item  ">
                            <a href="/csv" class='sidebar-link'>
                                <i class="bi bi-file-earmark-spreadsheet-fill"></i>
                                <span>Export Data</span>
                            </a>
                        </li>

                        

                    </ul>
                </div>
                <button class="sidebar-toggler btn x"><i data-feather="x"></i></button>
            </div>
        </div>
        <div id="main">
            <header class="mb-3">
                <a href="#" class="burger-btn d-block d-xl-none">
                    <i class="bi bi-justify fs-3"></i>
                </a>
            </header> 

            {% for order in order_db %}
            {% comment %} <div class="d-flex flex-column justify-content-center align-items-center" id="order-heading">
                <div class="text-uppercase">
                    <p>Order detail</p>
                </div>
                <div class="h4">₹{{order.date}}</div>
                <div class="pt-1">
                    <p>Order #{{order.id}} is currently<b class="text-dark">{{order.order_status}}</b></p>
                </div>
                
            </div> {% endcomment %}
            <div class="wrapper bg-white">
                {% comment %} <div class="table-responsive">
                    <table class="table table-borderless">
                        <thead>
                            <tr class="text-uppercase text-muted">
                                <th scope="col">product</th>
                                <th scope="col" class="text-right">total</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <th scope="row">Babyblends: 1meal/day</th>
                                <td class="text-right"><b>$69.86</b></td>
                            </tr>
                        </tbody>
                    </table>
                </div> {% endcomment %}
                <div class="d-flex flex-column justify-content-center align-items-center" id="order-heading">
                    <div class="text-uppercase my-5">
                        <p>Order detail</p>
                    </div>
                    <div class="h4">{{order.date}}</div>
                    <div class="pt-1">
                        <p>Order #{{order.id}} is currently<b class="text-dark"> {{order.order_status}}</b></p>
                    </div>
                    
                </div>
                <div class="d-flex justify-content-start align-items-center list my-2 py-1" style="background-color:lightgrey;">
                    <i class="fa-solid fa-landmark-dome"></i>
                    <div class="mx-3"> State :</div>
                    <div class="order-item">{{order.state}}</div>
                </div>
                <div class="pt-2 border-bottom mb-3"></div>
                <div class="d-flex justify-content-start align-items-center pl-3 my-4">
                    <div class="text-muted">Order id : </div>
                    <div class="ml-auto mx-2"><label> #{{order.id}}</label> </div><br>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 my-4">
                    <div class="text-muted">Order Status : </div>
                    <div class="ml-auto mx-2"><label> #{{order.order_status}}</label> </div><br>
                </div>
                <div class="d-flex justify-content-start align-items-center pb-4 pl-3 border-bottom">
                    <div class="text-muted"> 
                        <div class="dropdown">
                        <button class="btn btn-primary dropdown-toggle me-1" type="button"
                            id="dropdownMenuButton" data-bs-toggle="dropdown"
                            aria-haspopup="true" aria-expanded="false">
                            select action
                        </button>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                            <a class="dropdown-item" href="/change_order_status/{{order.id}}/Order-Recieved">Order Recieved</a>
                            <a class="dropdown-item" href="/change_order_status/{{order.id}}/Processing">Processing</a>
                            <a class="dropdown-item" href="/change_order_status/{{order.id}}/Submitted-For-Approval">Submitted For Approval</a>
                            <a class="dropdown-item" href="/change_order_status/{{order.id}}/Order-Completed">Order Completed</a>
                        </div>
                    </div> </div>
                </div>

                <div class="d-flex justify-content-start align-items-center pl-3 my-4">
                    <!-- <div class="text-muted">Order Status : </div> -->
                    <div class="ml-auto "><label> Download Documents :</label> </div><br>
                </div>

                {% if  order.pan_card and order.proof_of_address and order.aadhar_card and order.photograph %} 
                <div class="d-flex justify-content-cen align-items-center pl-3 py-3 mb-4 ">
                    <div class="text-muted"><a href="{{order.pan_card.url}}"><button class="text-white btn mx-3">PAN Card</button></a></div>
                    <div class="text-muted"> <a href="{{order.proof_of_address.url}}"><button class="text-white btn mx-3">Proof Of Address </button></a></div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 border-bottom">
                    <div class="text-muted"><a href="{{order.aadhar_card.url}}"><button class="text-white btn mx-3">Adhar Card</button></a></div>
                    <div class="text-muted"><a href="{{order.photograph.url}}"><button class="text-white btn mx-3">Photograph</button></a></div>
                </div>
                {% endif %}

                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 border-bottom">
                    <div class="text-muted mx-2"> Full Name :</div>
                    <div class="ml-auto"><b>{{order.full_name}}</b></div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 ">
                    <div class="text-muted mx-2"> Phone Number :</div>
                    <div class="ml-auto"><b>{{order.p_number}}</b></div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 ">
                    <div class="text-muted mx-2"> Email :</div>
                    <div class="ml-auto"><b>{{order.email}}</b></div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 ">
                    <div class="text-muted mx-2"> Company Type :</div>
                    <div class="ml-auto"><b>{{order.company_type}}</b></div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 ">
                    <div class="text-muted mx-2"> GST Number :</div>
                    <div class="ml-auto"><b>{{order.gst_number}}</b></div>
                </div>
                <div class="row border rounded p-1 my-3">
                    <div class="col-md-6 py-3">
                        <div class="d-flex flex-column align-items start"> <h5>Address</h5>
                            <p class="text-justify pt-2">{{order.company_addess}}</p>
                            {% comment %} <p class="text-justify">New York</p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-start align-items-center pl-3 py-3 mb-4 border-bottom">
                    <div class="text-muted mx-2"> Total :</div>
                    <div class="ml-auto h5"> ₹{{order.total_amount}} </div>
                </div>
                <div class="pl-3 font-weight-bold">Summary</div>
                <div class="d-sm-flex justify-content-between rounded my-3 subscriptions">
                    <div> <b>#{{order.id}}</b> </div>
                    <div>Date : {{order.date}}</div>
                    <div>Status: {{order.order_status}}</div>
                    <div> Total: <b> ₹{{order.total_amount}} for {{order.state}} State</b> </div>
                </div>
            </div>
            {% endfor %}

            

            <footer>
                {% comment %} {% for order in order_db %}
                {% if  order.pan_card and order.proof_of_address and order.aadhar_card and order.photograph %} 
                <a href="{{order.pan_card.url}}"><button class="docx"></button></a>
                <a href="{{order.proof_of_address.url}}"><button class="docx"></button></a>
                <a href="{{order.aadhar_card.url}}"><button class="docx"></button></a>
                <a href="{{order.photograph.url}}"><button class="docx"></button></a>
                {% endif %}
                {% endfor %} {% endcomment %}
            </footer>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>

   
    <script>
        {% for order in order_db %}
        {% if order.pan_card and order.proof_of_address and order.aadhar_card and order.photograph %}
        $(document).ready(function() {
                $("#docs_btn").click(function(){
                {% comment %} $(".docx").click(); {% endcomment %}
                open('{{order.proof_of_address.url}}');
                open('{{order.pan_card.url}}');
                open('{{order.aadhar_card.url}}');
                open('{{order.photograph.url}}');
            })
            })
            {% endif %}
            {% endfor %}
    </script>
    



    <script src="{%static 'assets/vendors/perfect-scrollbar/perfect-scrollbar.min.js'%}"></script>
    <script src="{%static 'assets/js/bootstrap.bundle.min.js'%}"></script>

    <script src="{%static 'assets/vendors/apexcharts/apexcharts.js'%}"></script>
    <script src="{%static 'assets/js/pages/dashboard.js'%}"></script>

    <script src="{%static 'assets/js/main.js'%}"></script>


    <script src="{%static 'assets/vendors/simple-datatables/simple-datatables.js'%}"></script>
    <script>
        // Simple Datatable
        let table1 = document.querySelector('#table1');
        let dataTable = new simpleDatatables.DataTable(table1);
    </script>

    <script src="{%static 'assets/js/main.js'%}"></script>

    
    

</body>

</html>